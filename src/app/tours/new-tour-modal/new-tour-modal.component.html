<h2 mat-dialog-title>Ingresar Datos</h2>
<mat-dialog-content>
  <form [formGroup]="form">
    <mat-form-field>
      <mat-label>Fecha Inicio</mat-label>
      <input matInput [matDatepicker]="picker1" formControlName="fechaInicio" placeholder="Seleccionar fecha" />
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Fecha Termino</mat-label>
      <input matInput [matDatepicker]="picker2" formControlName="fechaTermino" placeholder="Seleccionar fecha" />
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <div class="form-group col-md-6">
      <label for="oficina">Oficina</label>
      <select class="form-control" id="office" [(ngModel)]="newComunnes.office" name="office" required>
        <!-- Usamos 'branch' para obtener las oficinas -->
        <option *ngFor="let office of branch" [ngValue]="office">{{ office.branchName }}</option>
      </select>
    </div>



    <h3>Selecciona una comuna</h3>

    <mat-form-field appearance="fill">
      <mat-label>Selecciona una comuna</mat-label>
      <mat-select [(value)]="selectedComunnes">
        

        <!-- Opción de búsqueda -->
        <mat-form-field appearance="fill">
          <input matInput placeholder="Buscar" [(ngModel)]="searchTerm" />
        </mat-form-field>
        
        <mat-option *ngFor="let comunne of filteredComunnes()" [value]="comunne">
          {{ comunne.communesName }}
        </mat-option>
      </mat-select>
    </mat-form-field>



    <div class="form-group col-md-6">
      <label for="colegio">Colegio</label>
      <select class="form-control" id="college" [(ngModel)]="newComunnes.college" name="college" required>
        <!-- Usamos 'branch' para obtener las oficinas -->
        <option *ngFor="let college of colleges" [ngValue]="college">{{ college.name }}</option>
      </select>
    </div>

    <div class="form-group col-md-6">
      <label for="programa">Programa</label>
      <select class="form-control" id="program" [(ngModel)]="newComunnes.program" name="program" required>
        <!-- Usamos 'branch' para obtener las oficinas -->
        <option *ngFor="let program of programs" [ngValue]="program">{{ program.tours_name }}</option>
      </select>
    </div>

    <mat-form-field>
      <mat-label>Curso</mat-label>
      <input matInput formControlName="curso" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Temporada</mat-label>
      <input matInput formControlName="temporada" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Número Grupo</mat-label>
      <input matInput formControlName="numeroGrupo" />
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button (click)="onClose()">Cancelar</button>
  <button mat-button color="primary" (click)="onSave()">Guardar</button>
</mat-dialog-actions>